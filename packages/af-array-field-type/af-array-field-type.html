<!-- https://github.com/aldeed/meteor-autoform/blob/master/templates/bootstrap3/components/afArrayField/afArrayField.html -->
<template name="afArrayField_type">
  {{#afEachArrayItem name=this.atts.name minCount=this.atts.minCount maxCount=this.atts.maxCount}}
  <div class="autoform-array-item">
    <div>
      <div class="autoform-array-item-body afarrayfield-type-item">
        {{#if afArrayFieldHasMoreThanMinimum name=../atts.name minCount=../atts.minCount maxCount=../atts.maxCount}}
          <div class='afarrayfield-type-remove-item autoform-remove-item'><i class='fa fa-close'></i></div>
        {{/if}}
        {{#if typeIs "googleplace"}}
          {{> afQuickField type="googleplace" name=this.name label=../atts.label}}
        {{/if}}
        {{#if typeIs "tag"}}
          {{> afQuickField type="tag" name=this.name label=../atts.label opts=../atts.opts}}
        {{/if}}
        {{#if typeIs "tagsearch"}}
          {{> afQuickField name=schemaNames.tags.name label="Tag" type="lmautocomplete" opts=../atts.opts.autocomplete}}
          <div class='flexbox equal'>
            <div class='flex1'>
              {{> afQuickField name=schemaNames.tags.category label="Category" options=../atts.opts.category class="orgs-filter-tag-category-input"}}
            </div>
            <div class='flex1 margin-l'>
              {{> afQuickField name=schemaNames.tags.status label="Status" options=../atts.opts.status class="orgs-filter-tag-status-input"}}
            </div>
          </div>
          <div class='flexbox equal'>
            <div class='flex1'>
              {{> afQuickField name=schemaNames.tags.ratingSelfMin label="Min Self Rating" options=../atts.opts.ratings class="orgs-filter-tag-self-rating-min-input"}}
            </div>
            <div class='flex1 margin-l'>
              {{> afQuickField name=schemaNames.tags.ratingSelfMax label="Max Self Rating" options=../atts.opts.ratings class="orgs-filter-tag-self-rating-max-input"}}
            </div>
          </div>
          <div class='flexbox equal'>
            <div class='flex1'>
              {{> afQuickField name=schemaNames.tags.ratingOtherMin label="Min Public Rating" options=../atts.opts.ratings class="orgs-filter-tag-other-rating-min-input"}}
            </div>
            <div class='flex1 margin-l'>
              {{> afQuickField name=schemaNames.tags.ratingOtherMax label="Max Public Rating" options=../atts.opts.ratings class="orgs-filter-tag-other-rating-max-input"}}
            </div>
          </div>
        {{/if}}
        {{#if typeIs ""}}
          {{> afQuickField name=this.name label=false options=afOptionsFromSchema}}
        {{/if}}

      </div>
    </div>
  </div>
  {{/afEachArrayItem}}
  {{#if afArrayFieldHasLessThanMaximum name=this.atts.name minCount=this.atts.minCount maxCount=this.atts.maxCount}}
  <div class='afarrayfield-type-add-item'>
    <span class='btn btn-small autoform-add-item' data-autoform-field="{{this.atts.name}}" data-autoform-minCount="{{this.atts.minCount}}" data-autoform-maxCount="{{this.atts.maxCount}}">Add {{this.atts.label}}</span>
  </div>
  {{/if}}
</template>